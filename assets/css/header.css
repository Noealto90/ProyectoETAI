/* Flex layout for header */
.header-flex {
    display: flex;
    align-items: center;
    justify-content: space-between; /* left logo, centered nav, right controls */
    width: 100%;
    min-height: 70px;
    position: relative;
    padding: 0 1.2rem;
    box-sizing: border-box;
    gap: 1rem;
    flex-wrap: nowrap; /* keep items on a single line when possible */
}

/* Layout variables to avoid overlap: do NOT change the logo size globally â€” adjust nav padding instead */
.header-flex {
    --logo-size: 110px; /* fallback logo width used for spacing calculations */
    --right-controls-space: 160px; /* reserved space on the right for hamburger+profile */
}

.logo-container {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
}

.logo {
    width: 110px;
    height: auto;
    display: block;
}

.menu-toggle {
    display: none;
    background: transparent;
    border: none;
    color: #002D6D;
    font-size: 1.7rem;
    cursor: pointer;
    margin: 0 1rem;
    z-index: 1000;
}

.user-menu {
    flex: 0 0 auto;
    position: static;
    display: flex;
    align-items: center;
}

.user-icon {
    font-size: 2.1rem;
    color: #002D6D;
    margin-left: 0.5rem;
}

@media (max-width: 1024px) {
    .menu-toggle {
        display: inline-block;
    }
    .logo {
        width: 90px;
    }
    .header-flex {
        min-height: 56px;
        padding: 0 0.5rem;
    }
    .user-icon {
        font-size: 1.7rem;
    }
}

@media (max-width: 480px) {
    .logo {
        width: 70px;
    }
    .header-flex {
        min-height: 44px;
    }
}
.right-controls {
    display: flex;
    align-items: center;
    margin-left: auto; /* push the whole group to the right */
    gap: 0.5rem;
}

/* Make nav occupy the middle space and keep links inline */
nav {
    flex: 1 1 auto;
    display: flex;
    justify-content: center; /* center nav items horizontally in the available space */
    align-items: center;
    /* reserve left and right padding so nav content doesn't underlap logo or controls */
    padding-left: calc(var(--logo-size) + 36px);
    padding-right: var(--right-controls-space);
    box-sizing: border-box;
}

nav ul {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style: none;
    white-space: nowrap; /* avoid wrapping labels */
}

/* Allow items to shrink if space is tight, but prefer not to wrap */
nav ul li {
    flex: 0 1 auto;
}

/* If space becomes too tight, rely on hamburger in mobile; header remains visible */
.header-flex { overflow: visible; }

.user-menu {
    position: relative; /* relative so dropdown positions against it */
    display: flex;
    align-items: center;
    margin-left: 0; /* controlled by .right-controls */
}

.user-menu .user-icon {
    cursor: pointer;
    font-size: 2.1rem; /* tuned size */
    color: #002D6D;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: 0.6rem;
}

.user-menu-content {
    display: none;
    position: absolute;
    right: 0;
    top: calc(100% + 8px);
    background-color: #fff;
    min-width: 160px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
    z-index: 50;
    border-radius: 6px;
    overflow: hidden;
}

.user-menu-content a {
    color: #333;
    padding: 10px 14px;
    text-decoration: none;
    display: flex;
    align-items: center;
    border-bottom: 1px solid #eee;
}

.user-menu-content a:hover {
    background-color: #f7f7f7;
}

.user-menu-content a i {
    margin-right: 10px;
}

.user-menu:hover .user-menu-content {
    display: block;
}

/* Also show dropdown when .open is applied (for click toggling on mobile) */
.user-menu.open .user-menu-content {
    display: block;
}

/* Button style for user toggle (reset default button look) */
.user-toggle {
    background: transparent;
    border: none;
    padding: 4px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.user-toggle:focus {
    outline: 2px solid rgba(13,75,141,0.15);
    outline-offset: 2px;
    border-radius: 6px;
}

/* Menu toggle (hamburger) styling - kept simple and in-flow */
.menu-toggle {
    display: none; /* hidden by default, visible in small screens */
    background: transparent;
    border: none;
    color: #002D6D; /* dark icon on light header */
    font-size: 1.6rem;
    cursor: pointer;
    z-index: 1000;
    padding: 6px;
    margin: 0; /* no extra margin; spacing handled by .right-controls gap */
}

/* Responsive nav: hide by default on small screens and show when .open */
nav {
    background-color: #002D6D; /* keep existing color */
    width: 100%;
    box-sizing: border-box;
    font-family: inherit;
}

@media (max-width: 1024px) {
    .menu-toggle {
        display: inline-block;
        color: #002D6D;
    }

    /* Make the nav drop down below the header as an overlay */
    nav {
        position: absolute;
        left: 0;
        right: 0;
        top: 100%; /* directly below the header-flex container */
        width: 100%;
        display: block;
        overflow: hidden;
        max-height: 0;
        transition: max-height 300ms ease-in-out, opacity 180ms ease-in-out;
        opacity: 0;
        z-index: 1200; /* above page content */
        box-shadow: 0 6px 18px rgba(0,0,0,0.12);
        background-color: #002D6D;
    }

    /* When open expand downward */
    nav.open {
        max-height: 520px; /* adjust if menu longer */
        opacity: 1;
    }

    nav ul {
        display: flex;
        flex-direction: column;
        gap: 0;
        align-items: center; /* center the column on wider tablets */
        margin: 0;
        padding: 8px 0;
        list-style: none;
        max-width: 920px; /* keep the menu visually centered on wide tablets */
        margin-left: auto;
        margin-right: auto;
        padding-left: 12px;
        padding-right: 12px;
        box-sizing: border-box;
    }

    /* Menu links - mobile (vertical) */
    nav ul li a {
        display: block;
        padding: 14px 22px;
        border-top: 1px solid rgba(255,255,255,0.06);
        text-align: center; /* center the text */
        color: #ffffff;
        text-decoration: none;
        font-size: 15px;
        font-weight: 600;
        letter-spacing: 0.6px;
        text-transform: uppercase;
    }

    nav ul li:first-child a {
        border-top: none;
    }

    /* Make separators subtle and consistent */
    nav ul li + li a {
        border-top: 1px solid rgba(255,255,255,0.06);
    }

    /* Small screens: make dropdown full-width and items stretch */
    @media (max-width: 600px) {
        nav {
            position: absolute;
            left: 0;
            right: 0;
            top: 100%;
            width: 100%;
            box-sizing: border-box;
            padding: 0;
        }

        nav ul {
            max-width: none;
            width: 100%;
            margin: 0;
            padding: 6px 0;
            align-items: stretch; /* stretch items to full width */
        }

        nav ul li a {
            text-align: left;
            padding: 14px 18px;
            font-size: 15px;
            white-space: normal; /* allow wrapping if needed */
        }

        nav ul li + li a {
            border-top: 1px solid rgba(255,255,255,0.06);
        }
    }

    nav ul li a:hover, nav ul li a:focus {
        background-color: rgba(255,255,255,0.06);
        color: #ffffff;
    }

    /* Make links more readable with subtle icon spacing if icons added later */
    nav ul li a i {
        margin-right: 10px;
        color: rgba(255,255,255,0.9);
    }
}

/* Desktop nav (default) - horizontal and compact */
@media (min-width: 1025px) {
    nav {
        display: block;
        position: static;
        max-height: none;
        background: transparent;
    }

    nav ul {
        display: flex;
        gap: 1rem;
        align-items: center;
        margin: 0;
        padding: 0;
    }

    nav ul li {
        list-style: none;
    }

    nav ul li a {
        color: #002D6D; /* dark links on light header */
        padding: 8px 10px;
        border: none;
        font-size: 15px;
    }

    nav ul li a:hover, nav ul li a:focus {
        color: #0d4b8d; /* slightly darker on hover */
        background: transparent;
    }
}

/* Medium screens: prevent nav items from crowding the logo */
@media (min-width: 1025px) and (max-width: 1400px) {
    /* keep logo size but reduce nav font/gaps so items fit nicely */
    .logo {
        width: var(--logo-size);
    }
    nav {
        padding-left: calc(var(--logo-size) + 40px);
        padding-right: 140px;
    }
    nav ul {
        gap: 1.1rem;
    }
    .right-controls {
        gap: 0.6rem;
    }
}

/* Smaller-medium screens: slightly smaller logo and left-align nav to avoid overlap */
@media (min-width: 1025px) and (max-width: 1199px) {
    .logo {
        width: var(--logo-size);
    }
    nav {
        padding-left: calc(var(--logo-size) + 28px);
        padding-right: 120px;
    }
    nav ul {
        gap: 0.8rem;
        font-size: 14px;
    }
}

/* Further compress nav text on medium screens to avoid overlap without changing logo */
@media (min-width: 1025px) and (max-width: 1199px) {
    nav ul { font-size: 13px; gap: 0.7rem; }
}